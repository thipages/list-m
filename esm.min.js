/*! (c) Andrea Giammarchi - ISC */
const t=(()=>{const t="DOMContentLoaded",e=new WeakMap,n=[],s=t=>{do{if(t.nextSibling)return!0}while(t=t.parentNode);return!1},r=()=>{n.splice(0).forEach((t=>{!0!==e.get(t[0])&&(e.set(t[0],!0),t[0][t[1]]())}))};document.addEventListener(t,r);class i extends HTMLElement{static withParsedCallback(i,o="parsed"){const{prototype:c}=i,{connectedCallback:l}=c,a=o+"Callback",u=(e,n,s,r)=>{n.disconnect(),s.removeEventListener(t,r),h(e)},h=t=>{n.length||requestAnimationFrame(r),n.push([t,a])};return Object.defineProperties(c,{connectedCallback:{configurable:!0,writable:!0,value(){if(l&&l.apply(this,arguments),a in this&&!e.has(this)){const n=this,{ownerDocument:r}=n;if(e.set(n,!1),"complete"===r.readyState||s(n))h(n);else{const e=()=>u(n,i,r,e);r.addEventListener(t,e);const i=new MutationObserver((()=>{s(n)&&u(n,i,r,e)}));i.observe(n.parentNode,{childList:!0,subtree:!0})}}}},[o]:{configurable:!0,get(){return!0===e.get(this)}}}),i}}return i.withParsedCallback(i)})(),e="loaded",n="onError";class s extends t{#t;#e;#n;constructor(t){super(),this.#t=t||{},this[n]=!1,this[e]=!1}#s(t,e){const n=this.#e;if(n)return t&&(this.#e=null),e?n.textContent:n}#r(t){this[e]=!0,this[n]=!!t,this[n]&&(this.innerHTML=this.#t.onErrorHtml||""),this.hasAttribute("level-up")&&this.replaceWith(...this.children),this.dispatchEvent(new Event("load"))}originalFragment(t=!0){return this.#s(t,!1)}originalText(t=!0){return this.#s(t,!0)}parsedCallback(){const t=this,e=e=>t.#r(e);this.#n=this.querySelectorAll("slot"),this.#n.forEach((t=>t.remove())),this.#e=document.createDocumentFragment(),this.#e.append(...this.childNodes),this.innerHTML=this.#t.onLoadHtml||"",this.init?"AsyncFunction"===this.init.constructor.name?this.init().then((()=>e())).catch((t=>{e(new Error("m-element error",{cause:t}))})):(this.init(),e()):e()}getSlotByName(t){return[...this.#n].filter((e=>t&&e.name===t))[0]}}const r=["a","em","strong","small","s","cite","q","dfn","abbr","code","var","samp","kbd","sub","sup","i","b","u","mark","span"],i={a:[" ","href","target"],abbr:[,"title"],dfn:[,"title"]},o=/\x01(\d)/g,c=/\|([a-z][a-z0-9]*)(\.([^\[\/]*)){0,1}(\[(.*)\]){0,1}\/([^\/]+)\//gi,l={wrapOne:!0};var a=(t,e={})=>{const{wrapOne:n}=Object.assign({},l,e);return function(t,e){const n=t.split("\n\n");return 1!==n.length||e?n.map((t=>{return`<${e="p"}>${t.trim()}</${e}>`;var e})).join("\n"):t.trim()}(function(t){return t.replace(/^\s*\n/gm,"\n").replace(/^\n+/,"").replace(/\n+$/,"").replace(/\n{3,}/g,"\n\n")}(t.replace("<","&lt;").replace(o,"").replace(/\\\//g,"0").replace(/\\\|/g,"1").replace(c,(function(t,e,n,s,o,c,l){if(r.includes(e)){const t=function(t,e){if(!e)return"";const n=/[a-z-]+="/.test(e);if(n)return e;{const[n,...s]=i[t];if(s){const t=e.trim().replace(/\s{2,}/g," ").split(n);return s.map(((e,n)=>t[n]?`${e}="${t[n]}"`:null)).filter((t=>t)).join(" ")}return""}}(e,c),n=/class\s*="/.test(t)?t:[s?`class="${s}"`:"",t].join(" ").trim();return`<${e}${""===n?"":" "+n}>${l.trim()}</${e}>`}return t})).replace(/\x010/g,"&#x2F;").replace(/\x011/g,"&#124;")),n)};function u(t){return`<li>${t}</li>`}function h(t,e){const{subText:n,text:s,ordered:r,diff:i,level:o}=t,c=n.join("\n").replace(/\s+/g,"").trim(),l=n.length>=1&&""!==c?a(n.join("\n"),{wrapOne:!0}):"",h=a(s.trim(),{wrapOne:!1})+l,f=[];if(void 0===i)f.push(p(r).o),f.push(u(h));else if(0===i)f.push(u(h));else if(i>=1)f.push(p(r).o),f.push(u(h));else for(let t=0;t<e.length;t++){const[t,n]=e.pop();if(!(n>o)){e.push([t,n]),f.push(u(h));break}f.push(p(t).c),1===e.length&&f.push(u(h))}return f}function p(t){const e=t?"o":"u";return{o:`<${e}l>`,c:`</${e}l>`}}function f(t){const e=t.match(/(\s*)(\*|\-|\d+\.)(.+)/);if(e){const[,t,n,s]=[...e],r=n?"."===n.split("").pop():void 0;return{spaces:t,bullet:n,text:s,ordered:r}}return{text:t}}const d="<ul><li>List Error</li></ul>";customElements.define("list-m",class extends s{constructor(){super()}init(){!function(t){const[e,n]=function(t){let e,n,s,r=!1,i=!0,o=!0;const c=[],l=[],a=[];for(const p of(u=t,u.replace(/^\s*\n+/,"").replace(/\s*\n+$/,"").replace(/^\s*\n/gm,"\n").replace(/\n{3,}/g,"\n\n")).split("\n")){const t=f(p);if(t.bullet||r)if(r=!0,t.bullet){const r=t.spaces.length;if(i)e=r,s=0,c.push([t.ordered,s]);else{n=s;const i=Math.floor((r-e)/2);if(i<0){o=!1;break}{const e=i-s;e>=1?(s++,c.push([t.ordered,s])):e<0&&(s=i)}}const u=i?void 0:s-n;Object.assign(t,{subText:[],level:s,diff:u}),0!==a.length&&l.push(...h(a.pop(),c)),a.push(t),i=!1}else a[0].subText.push(p)}var u;if(r){l.push(...h(a.pop(),c));for(const[t]of c.reverse())l.push(p(t).c)}return[o,l.join("")]}(t.originalText());t.innerHTML=e?n:d}(this)}});
